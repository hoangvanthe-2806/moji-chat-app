# ğŸ“± Moji - Chat Application

<div align="center">

![Flutter](https://img.shields.io/badge/Flutter-3.9.2-blue.svg)
![Dart](https://img.shields.io/badge/Dart-3.9.2-blue.svg)
![Supabase](https://img.shields.io/badge/Supabase-Backend-green.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

**á»¨ng dá»¥ng chat mÆ°á»£t mÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i Flutter vÃ  Supabase**

[Features](#-features) â€¢ [Screenshots](#-screenshots) â€¢ [Tech Stack](#-tech-stack) â€¢ [Setup](#-setup) â€¢ [Project Structure](#-project-structure)

</div>

---

## ğŸ“‹ Table of Contents

- [About](#-about)
- [Features](#-features)
- [Screenshots](#-screenshots)
- [Tech Stack](#-tech-stack)
- [Setup](#-setup)
- [Project Structure](#-project-structure)
- [Database Schema](#-database-schema)
- [Contributing](#-contributing)

---

## ğŸ¯ About

**Moji** lÃ  á»©ng dá»¥ng chat mÆ°á»£t mÃ , cho phÃ©p ngÆ°á»i dÃ¹ng káº¿t ná»‘i, trÃ² chuyá»‡n vÃ  xÃ¢y dá»±ng tÃ¬nh báº¡n qua giao diá»‡n Ä‘áº¹p máº¯t vÃ  dá»… sá»­ dá»¥ng.

### TÃ­nh nÄƒng ná»•i báº­t
- âœ¨ **Giao diá»‡n hiá»‡n Ä‘áº¡i**: Thiáº¿t káº¿ Ä‘áº¹p máº¯t vá»›i há»— trá»£ cháº¿ Ä‘á»™ tá»‘i
- ğŸ” **Báº£o máº­t**: XÃ¡c thá»±c báº±ng email/máº­t kháº©u qua Supabase
- ğŸ’¬ **Chat real-time**: Tin nháº¯n tá»©c thá»i vá»›i tráº¡ng thÃ¡i Ä‘Ã£ Ä‘á»c
- ğŸ‘¥ **Quáº£n lÃ½ báº¡n bÃ¨**: Gá»­i, cháº¥p nháº­n vÃ  quáº£n lÃ½ lá»i má»i káº¿t báº¡n
- ğŸ“¸ **Avatar**: Táº£i lÃªn vÃ  cáº­p nháº­t áº£nh Ä‘áº¡i diá»‡n
- ğŸŒ“ **Cháº¿ Ä‘á»™ tá»‘i/sÃ¡ng**: Chuyá»ƒn Ä‘á»•i theme linh hoáº¡t
- ğŸ“± **Äa ná»n táº£ng**: Há»— trá»£ Android vÃ  iOS

---

## âœ¨ Features

### XÃ¡c thá»±c
- âœ… ÄÄƒng kÃ½ tÃ i khoáº£n báº±ng email vÃ  máº­t kháº©u
- âœ… ÄÄƒng nháº­p/Ä‘Äƒng xuáº¥t an toÃ n
- âœ… Quáº£n lÃ½ phiÃªn Ä‘Äƒng nháº­p
- âœ… Tá»± Ä‘á»™ng Ä‘Äƒng nháº­p khi má»Ÿ láº¡i app

### TÃ­nh nÄƒng Chat
- âœ… Tin nháº¯n real-time
- âœ… Xem trÆ°á»›c tin nháº¯n cuá»‘i
- âœ… Hiá»ƒn thá»‹ tráº¡ng thÃ¡i Ä‘Ã£ Ä‘á»c/chÆ°a Ä‘á»c
- âœ… Thá»i gian tin nháº¯n (Ä‘á»‹nh dáº¡ng tÆ°Æ¡ng Ä‘á»‘i)
- âœ… XÃ³a cuá»™c trÃ² chuyá»‡n (áº¥n giá»¯)
- âœ… XÃ³a tin nháº¯n cá»§a mÃ¬nh (áº¥n giá»¯)
- âœ… Tráº¡ng thÃ¡i online/offline

### TÃ­nh nÄƒng XÃ£ há»™i
- âœ… TÃ¬m kiáº¿m ngÆ°á»i dÃ¹ng
- âœ… Gá»­i lá»i má»i káº¿t báº¡n
- âœ… Cháº¥p nháº­n/tá»« chá»‘i lá»i má»i káº¿t báº¡n
- âœ… Xem danh sÃ¡ch báº¡n bÃ¨
- âœ… XÃ³a báº¡n bÃ¨
- âœ… Xem há»“ sÆ¡ ngÆ°á»i dÃ¹ng

### Quáº£n lÃ½ Há»“ sÆ¡
- âœ… Xem há»“ sÆ¡ cá»§a mÃ¬nh
- âœ… Chá»‰nh sá»­a há»“ sÆ¡ (tÃªn, giá»›i thiá»‡u)
- âœ… Táº£i lÃªn vÃ  cáº­p nháº­t áº£nh Ä‘áº¡i diá»‡n
- âœ… Tá»± Ä‘á»™ng lÃ m má»›i sau khi chá»‰nh sá»­a

### CÃ i Ä‘áº·t
- âœ… Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ tá»‘i/sÃ¡ng
- âœ… LÆ°u cÃ i Ä‘áº·t theme
- âœ… ÄÄƒng xuáº¥t

---

## ğŸ“¸ Screenshots

### Authentication Screens

#### Login Screen
![Login Screen](screenshots/login.png)
*Giao diá»‡n Ä‘Äƒng nháº­p Ä‘áº¹p máº¯t*

#### Register Screen
![Register Screen](screenshots/register.png)
*ÄÄƒng kÃ½ tÃ i khoáº£n vá»›i xÃ¡c thá»±c form*

---

### Main Screens

#### Home - Chat List
![Chat List](screenshots/chat_list.png)
*Danh sÃ¡ch cuá»™c trÃ² chuyá»‡n vá»›i tin nháº¯n cuá»‘i vÃ  tráº¡ng thÃ¡i online*

#### Chat Detail
![Chat Detail](screenshots/chat_detail.png)
*Giao diá»‡n chat real-time vá»›i tin nháº¯n*

#### Search Users
![Search](screenshots/search.png)
*TÃ¬m kiáº¿m vÃ  káº¿t ná»‘i vá»›i ngÆ°á»i dÃ¹ng má»›i*

#### Friends List
![Friends](screenshots/friends.png)
*Quáº£n lÃ½ danh sÃ¡ch báº¡n bÃ¨*

#### Friend Requests
![Friend Requests](screenshots/friend_requests.png)
*Cháº¥p nháº­n hoáº·c tá»« chá»‘i lá»i má»i káº¿t báº¡n*

#### Edit Profile
![Edit Profile](screenshots/edit_profile.png)
*Cáº­p nháº­t thÃ´ng tin vÃ  áº£nh Ä‘áº¡i diá»‡n*

#### Settings

| Cháº¿ Ä‘á»™ sÃ¡ng | Cháº¿ Ä‘á»™ tá»‘i |
|------------|-----------|
| ![Settings Light](screenshots/settings_light.png) | ![Settings Dark](screenshots/settings_dark.png) |
| *CÃ i Ä‘áº·t - Cháº¿ Ä‘á»™ sÃ¡ng* | *CÃ i Ä‘áº·t - Cháº¿ Ä‘á»™ tá»‘i* |

---

## ğŸ›  Tech Stack

### Frontend
- **Flutter** 3.9.2 - Cross-platform UI framework
- **Dart** 3.9.2 - Programming language

### State Management
- **flutter_bloc** ^9.1.1 - BLoC pattern for state management
- **equatable** ^2.0.7 - Value equality for states

### Backend & Database
- **Supabase** - Backend as a Service
  - Authentication
  - PostgreSQL Database
  - Real-time subscriptions
  - Storage (for avatars)

### Key Packages
```yaml
dependencies:
  flutter_bloc: ^9.1.1          # State management
  supabase_flutter: ^2.10.3      # Backend services
  cached_network_image: ^3.4.1   # Image caching
  intl: ^0.19.0                  # Date/time formatting
  image_picker: ^1.1.2           # Image selection
  shared_preferences: ^2.5.3     # Local storage
  provider: ^6.1.2               # Dependency injection
```

---

## ğŸš€ Setup

### Prerequisites
- Flutter SDK (3.9.2 or higher)
- Dart SDK (3.9.2 or higher)
- Supabase account
- Android Studio / Xcode (for mobile development)

### Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd authentication_with_supabase
   ```

2. **Install dependencies**
   ```bash
   flutter pub get
   ```

3. **Configure Supabase**
   - Create a new project on [Supabase](https://supabase.com)
   - Copy your project URL and anon key
   - Update `lib/main.dart` with your Supabase credentials:
     ```dart
     await Supabase.initialize(
       url: 'YOUR_SUPABASE_URL',
       anonKey: 'YOUR_SUPABASE_ANON_KEY',
     );
     ```

4. **Setup Database**
   - Run SQL scripts in Supabase SQL Editor:
     - Create tables: `users`, `conversations`, `messages`, `friends`, `friend_requests`
     - Setup RLS policies (see `SUPABASE_SETUP.md`)

5. **Setup Storage**
   - Create `avatars` bucket in Supabase Storage
   - Run `setup_storage_policies.sql` for RLS policies

6. **Run the app**
   ```bash
   flutter run
   ```

### Database Setup

See `SUPABASE_SETUP.md` for detailed database schema and RLS policies.

---

## ğŸ“ Project Structure

```
lib/
â”œâ”€â”€ auth/                    # Authentication logic
â”‚   â”œâ”€â”€ auth_gate.dart      # Auth state management
â”‚   â””â”€â”€ auth_service.dart   # Auth operations
â”œâ”€â”€ models/                  # Data models & services
â”‚   â”œâ”€â”€ chat_service.dart   # Chat operations
â”‚   â”œâ”€â”€ friend_service.dart # Friend management
â”‚   â”œâ”€â”€ message_model.dart  # Message data model
â”‚   â””â”€â”€ user_model.dart     # User data model
â”œâ”€â”€ routes.dart              # Navigation routes
â”œâ”€â”€ screen/                  # UI Screens
â”‚   â”œâ”€â”€ chat_detail/        # Chat detail screen
â”‚   â”œâ”€â”€ chat_list/          # Chat list screen
â”‚   â”œâ”€â”€ friends/            # Friend management screens
â”‚   â”œâ”€â”€ home/               # Home screen with bottom nav
â”‚   â”œâ”€â”€ login/              # Login screen
â”‚   â”œâ”€â”€ profile/            # Profile screens
â”‚   â”œâ”€â”€ register/           # Registration screen
â”‚   â”œâ”€â”€ search/             # User search screen
â”‚   â”œâ”€â”€ settings/           # Settings screen
â”‚   â””â”€â”€ user_profile/       # Other user's profile
â”œâ”€â”€ services/                # Business logic services
â”‚   â”œâ”€â”€ ProfileService.dart
â”‚   â”œâ”€â”€ ThemeService.dart
â”‚   â””â”€â”€ conversation_service.dart
â””â”€â”€ widgets/                 # Reusable widgets
    â””â”€â”€ user_avatar.dart    # Avatar with online indicator
```

---

## ğŸ—„ Database Schema

### Tables

- **users**: User profiles and authentication
- **conversations**: Chat conversations between users
- **messages**: Individual chat messages
- **friends**: Friend relationships
- **friend_requests**: Pending friend requests

### Key Features
- Row Level Security (RLS) enabled
- Real-time subscriptions
- Foreign key relationships
- Timestamps for all records

---

## ğŸ¨ Design Philosophy

- **Giao diá»‡n Ä‘áº¹p máº¯t**: Thiáº¿t káº¿ sáº¡ch sáº½, tá»‘i giáº£n
- **Dá»… sá»­ dá»¥ng**: Äiá»u hÆ°á»›ng vÃ  tÆ°Æ¡ng tÃ¡c trá»±c quan
- **MÆ°á»£t mÃ **: Hoáº¡t Ä‘á»™ng mÆ°á»£t mÃ  trÃªn cÃ¡c kÃ­ch thÆ°á»›c mÃ n hÃ¬nh khÃ¡c nhau
- **Linh hoáº¡t**: Há»— trá»£ cháº¿ Ä‘á»™ tá»‘i/sÃ¡ng cho tráº£i nghiá»‡m tá»‘t hÆ¡n

---

## ğŸ“ Notes

- All screenshots should be placed in the `screenshots/` directory
- Update screenshot paths in this README after adding images
- Recommended screenshot size: 1080x1920 (9:16 aspect ratio)

---

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

---

## ğŸ“„ License

This project is licensed under the MIT License.

---

## ğŸ‘¤ Author

**hoangthedevhoangthedev**
- GitHub: [@hoangvanthe-2806](https://github.com/hoangvanthe-2806)
- Email: hoangthe2862003@gmail.com

---

<div align="center">

**Made with â¤ï¸ using Flutter & Supabase**

â­ Star this repo if you find it helpful!

</div>
